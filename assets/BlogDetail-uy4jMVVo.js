const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/markdown-Cr4Hflqh.js","assets/markdown-BMSQkwth.js","assets/highlight-oFPFMupF.js","assets/mermaid-C-v3_poi.js","assets/d3--x_RIlPQ.js"])))=>i.map(i=>d[i]);
import{_ as H}from"./mermaid-C-v3_poi.js";import{u as sl,a as tl,s as il,b as ol,T as al,R as P,c as nl}from"./index-D9oogZme.js";import{v as cl,d as f,r as p,a as rl,n as U,o as ul,B as o,L as $,D as e,E as B,F as z,G as n,y as r,J as dl,K as ml,N as j,M as N,I as h,C as i}from"./pdf-CVzfGURS.js";import"./d3--x_RIlPQ.js";import"./highlight-oFPFMupF.js";import"./fancyapps-B9LBmYJj.js";import"./gsap-COmk0yTM.js";const vl={class:"mil-content-frame"},fl={class:"mil-scroll mil-half-1 mil-bp-fix-2"},pl={key:0,class:"mil-main-content"},gl={class:"mil-banner"},bl={class:"mil-bg-frame"},hl=["src"],kl={class:"mil-banner-content mil-type-2"},_l={class:"mil-link mil-mb-20"},yl={class:"mil-lang-switch mil-mt-20"},Cl={class:"mil-space-90 mil-p-90-75"},Ll=["innerHTML"],wl={class:"mil-toc-menu mil-up-instant"},Bl={class:"mil-toc-list mil-scroll"},Tl=["onClick"],xl={class:"mil-soft"},Al={key:1,class:"mil-p-90-75"},Fl={class:"mil-bottom-panel mil-up-instant"},El={class:"mil-jcc mil-space-15 mil-w-100"},Rl={class:"mil-jcb mil-w-100 mil-p-30-0"},Ml={class:"mil-prev-nav"},Dl={key:1,class:"mil-link mil-disabled",style:{opacity:"0.5"}},Pl={class:"mil-bottom-centered"},zl={class:"mil-next-nav"},Nl={key:1,class:"mil-link mil-disabled",style:{opacity:"0.5"}},Sl={class:"mil-action-list"},Vl=["title"],Ol={key:0,class:"mil-toc-dot"},Jl={__name:"BlogDetail",setup(Il){const k=cl(null);let _;const S=async()=>{if(!k.value){const s=await H(()=>import("./markdown-Cr4Hflqh.js"),__vite__mapDeps([0,1,2]));k.value=s.default}},V=async()=>{_||(_=(await H(()=>import("./mermaid-C-v3_poi.js").then(l=>l.m),__vite__mapDeps([3,4,2]))).default,_.initialize({startOnLoad:!1,theme:"base",themeVariables:{darkMode:!0,fontFamily:'"Outfit", sans-serif',fontSize:"14px",primaryColor:"#FFFFFF",primaryTextColor:"#121212",primaryBorderColor:"#DBA91C",nodeBorder:"#DBA91C",mainBkg:"#FFFFFF",rectRadius:"8",lineColor:"#DBA91C",defaultLinkColor:"#DBA91C",edgeLabelBackground:"#DBA91C",labelTextColor:"#121212",clusterBkg:"rgba(255, 255, 255, 0.05)",clusterBorder:"#444444",secondaryColor:"#DBA91C",tertiaryColor:"#1A1A1A",titleColor:"#E0E0E0"},flowchart:{htmlLabels:!0,curve:"basis"},securityLevel:"loose"})),await _.run()},Z=ol(),q=nl(),{posts:T,getAdjacentPosts:G}=sl(),g=tl(),{currentLang:v}=il(g),y=f(()=>Z.params.id),c=f(()=>T.value.find(l=>l.slug===y.value&&l.type==="blog"&&l.lang===v.value)),C=G(y.value,"blog",v.value),x=f(()=>T.value.some(s=>s.slug===y.value&&s.type==="blog"&&s.lang==="en")),A=f(()=>T.value.some(s=>s.slug===y.value&&s.type==="blog"&&s.lang==="zh")),O=s=>{s==="zh"&&A.value&&g.setLang("zh"),s==="en"&&x.value&&g.setLang("en")},J=()=>{v.value==="zh"&&x.value?g.setLang("en"):v.value==="en"&&A.value&&g.setLang("zh")},K=f(()=>c.value&&k.value?k.value.render(c.value.body):""),L=f(()=>{if(!c.value)return[];const s=[];return c.value.body.split(`
`).forEach(t=>{const d=t.match(/^(#{1,6})\s+(.+)$/);if(d){const a=d[1].length,w=d[2].trim(),M=w.toLowerCase().trim().replace(/[^\u4e00-\u9fa5a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");s.push({level:a,title:w,slug:M})}}),s});p(!1);const m=p(!1),u=p(!1),F=()=>{m.value=!m.value,m.value&&(u.value=!1)},W=()=>{u.value=!u.value,u.value&&(m.value=!1)},Q=s=>{const l=document.getElementById(s);l&&(l.scrollIntoView({behavior:"smooth"}),m.value=!1)},b=p(!1),X=()=>{b.value=!b.value,b.value?(document.body.classList.remove("mil-half-page"),document.body.classList.add("mil-fw-page")):(document.body.classList.remove("mil-fw-page"),document.body.classList.add("mil-half-page"))},E=p(!1),R=p(null),Y=()=>{navigator.clipboard.writeText(window.location.href),E.value=!0,R.value&&R.value.show("Link copied to clipboard","success"),setTimeout(()=>{E.value=!1},2e3)},ll=s=>{const l=s.target.closest("a");if(l&&l.getAttribute("href")){const t=new URL(l.href),d=window.location.origin;if(t.origin===d){let a=t.pathname;if(a.endsWith(".md")){s.preventDefault();const w=a.includes("/portfolio/"),M=a.includes("/blog/"),el=a.split("/"),D=decodeURIComponent(el.pop().replace(".md",""));w?a="/portfolio/"+D:a="/blog/"+D,q.push(a)}}else l.target="_blank"}},I=()=>{document.querySelectorAll(".copy-btn").forEach(l=>{l.addEventListener("click",()=>{const t=decodeURIComponent(l.getAttribute("data-code"));navigator.clipboard.writeText(t).then(()=>{const d=l.innerHTML;l.innerHTML='<i class="fas fa-check"></i> Copied',setTimeout(()=>{l.innerHTML=d},2e3)})})})};return rl(()=>{U(()=>{I(),S(),V()})}),ul(()=>{U(()=>{I(),S(),V()})}),(s,l)=>(i(),o("div",vl,[$(al,{ref_key:"toastRef",ref:R},null,512),e("div",fl,[c.value?(i(),o("div",pl,[e("div",gl,[e("div",bl,[c.value.image?(i(),o("img",{key:0,src:c.value.image,alt:"banner",class:"mil-banner-bg mil-scale-img","data-value-1":"1","data-value-2":"1.3"},null,8,hl)):B("",!0)]),l[3]||(l[3]=e("div",{class:"mil-banner-overlay"},null,-1)),e("div",kl,[e("div",_l,z(c.value.category),1),e("h1",null,z(c.value.title),1),e("div",yl,[e("span",{class:n(["mil-lang-btn",{active:r(v)==="zh",disabled:!A.value}]),onClick:l[0]||(l[0]=t=>O("zh"))},"ZH",2),l[2]||(l[2]=e("span",{class:"mil-divider"},"/",-1)),e("span",{class:n(["mil-lang-btn",{active:r(v)==="en",disabled:!x.value}]),onClick:l[1]||(l[1]=t=>O("en"))},"EN",2)])])]),e("div",Cl,[e("div",{class:"mil-markdown-content mil-mb-60 mil-up",innerHTML:K.value,onClick:ll},null,8,Ll)]),e("div",{class:n(["mil-toc-backdrop",{"mil-active":m.value}]),onClick:F},null,2),L.value.length>0?(i(),o("div",{key:0,class:n(["mil-toc-wrapper",{"mil-toc-active":m.value}])},[e("div",wl,[l[6]||(l[6]=e("div",{class:"mil-sheet-handle"},null,-1)),e("div",{class:"mil-toc-header"},[l[5]||(l[5]=e("span",{class:"mil-link"},"Contents",-1)),e("div",{class:"mil-toc-close",onClick:F},[...l[4]||(l[4]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("ul",Bl,[(i(!0),o(dl,null,ml(L.value,t=>(i(),o("li",{key:t.slug,class:n(["mil-toc-item","mil-level-"+t.level]),onClick:d=>Q(t.slug)},[e("span",xl,z(t.title),1)],10,Tl))),128))])])],2)):B("",!0)])):(i(),o("div",Al,[...l[7]||(l[7]=[e("h1",null,"Post not found",-1)])])),e("div",Fl,[e("div",El,[e("div",Rl,[e("div",{class:"mil-action-trigger mil-icon-btn",onClick:Y,title:"Copy Link",style:{"margin-right":"20px"}},[e("i",{class:n(["fas",E.value?"fa-check":"fa-share-alt"])},null,2)]),e("div",Ml,[r(C).prev?(i(),j(r(P),{key:0,to:"/blog/"+r(C).prev.slug,class:"mil-link mil-icon-link-left",title:"Previous Post"},{default:N(()=>[...l[8]||(l[8]=[e("i",{class:"fas fa-chevron-left"},null,-1),h(),e("span",null,"Previous",-1)])]),_:1},8,["to"])):(i(),o("span",Dl,[...l[9]||(l[9]=[e("i",{class:"fas fa-chevron-left"},null,-1),h(),e("span",null,"Previous",-1)])]))]),e("div",Pl,[$(r(P),{to:"/blog",class:"mil-link mil-back-btn"},{default:N(()=>[...l[10]||(l[10]=[h("Back to Blog",-1)])]),_:1})]),e("div",zl,[r(C).next?(i(),j(r(P),{key:0,to:"/blog/"+r(C).next.slug,class:"mil-link mil-icon-link",title:"Next Post"},{default:N(()=>[...l[11]||(l[11]=[e("span",null,"Next",-1),h(),e("i",{class:"fas fa-chevron-right"},null,-1)])]),_:1},8,["to"])):(i(),o("span",Nl,[...l[12]||(l[12]=[e("span",null,"Next",-1),h(),e("i",{class:"fas fa-chevron-right"},null,-1)])]))]),e("div",{class:n(["mil-action-menu-wrapper",{"mil-active":u.value}])},[e("div",Sl,[L.value.length>0?(i(),o("div",{key:0,class:"mil-action-btn",onClick:F,title:"Table of Contents"},[...l[13]||(l[13]=[e("i",{class:"fas fa-list-ul"},null,-1)])])):B("",!0),e("div",{class:"mil-action-btn",onClick:J,title:"Switch Language"},[...l[14]||(l[14]=[e("i",{class:"fas fa-globe"},null,-1)])]),e("div",{class:"mil-action-btn",onClick:X,title:b.value?"Original View":"Full Screen View"},[e("i",{class:n(["fas",b.value?"fa-compress-alt":"fa-expand-alt"])},null,2)],8,Vl)]),e("div",{class:n(["mil-action-trigger mil-icon-btn",{"mil-active":u.value}]),onClick:W},[e("i",{class:n(["fas",u.value?"fa-times":"fa-ellipsis-v"])},null,2),!u.value&&L.value.length>0?(i(),o("span",Ol)):B("",!0)],2)],2)])])])])]))}};export{Jl as default};
